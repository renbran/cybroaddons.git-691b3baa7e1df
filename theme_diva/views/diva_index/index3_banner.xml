<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!-- Snippet Registration -->
    <template id="shop_collection_snippet_registration" inherit_id="website.snippets"
              name="Shop Collection Banner Registration">
        <xpath expr="//snippets[@id='snippet_groups']" position="inside">
            <t t-snippet="theme_diva.shop_collection_snippet"
               t-thumbnail="/theme_diva/static/src/images/snippets/index-3/banner.jpg">
                <t t-set="snippet_description">
                    A dynamic shop collection banner that loads after saving the page.
                </t>
            </t>
        </xpath>
    </template>

    <!-- Editor (Before Save) Placeholder -->
    <template id="shop_collection_snippet" name="Shop Collection Banner">
        <section class="oe_structure">
            <div class="shop_collection_class">
                <div class="container">
                    <div class="alert alert-warning">
                        <h4>'Shop Collection Banner' will be loaded here... Please Save the page to view full content.
                        </h4>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <!-- Rendered after save via RPC -->
    <template id="dynamic_shop_collection_banner" name="Shop Collection Banner Content">
        <div class="wrapper">
            <div class="container shop_collection_wrapper oe_structure">
                <div class="owl-carousel" id="shop_collection_slider">
                    <t t-foreach="collections" t-as="col">
                        <div class="item">
                            <div class="shop-slide-item position-relative">
                                <img t-att-src="col.get('image_url')" class="img img-fluid w-100" alt="Banner Image"/>
                                <div class="slide-overlay text-white">
                                    <h4 class="mb-2">
                                        <t t-esc="col.get('title')"/>
                                    </h4>
                                    <p class="mb-3">
                                        <t t-esc="col.get('description')"/>
                                    </p>
                                    <a t-att-href="col.get('link', '/shop')"
                                       class="btn btn-lg btn-light text-dark fw-bold">
                                        Shop Now
                                    </a>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </div>
    </template>
</odoo>
