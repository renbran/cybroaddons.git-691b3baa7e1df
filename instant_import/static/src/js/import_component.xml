<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="instant_import.ImportAction" t-inherit="ImportAction" t-inherit-mode="primary">

        <xpath expr="//FileInput" position="replace">
            <t t-if="isPreviewing">
                <button type="button" class="btn btn-secondary" t-on-click="() => this.handleTest()">Test</button>
            </t>
            <FileInput
                    acceptedFileExtensions="'.csv, .xls, .xlsx, .xlsm, .ods'"
                    onUpload.bind="(data, files) => this.handleFilesUpload(files)"
                    resId="model.id"
                    resModel="this.resModel"
                    route="'/base_import/set_file'">
                    <button t-if="isPreviewing" type="button" class="btn btn-secondary">Load File</button>
                    <button t-else="" type="button" class="btn btn-primary o_import_file">Upload File</button>
            </FileInput>
        </xpath>
        <xpath expr="//button[3]" position="attributes">
            <attribute name="style">display:None;</attribute>
        </xpath>
    </t>
</templates>