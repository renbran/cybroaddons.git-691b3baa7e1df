<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="pos_order_line_mass_edit.MassEditPopup">
<!--        Custom popup template-->
        <Dialog title="props.title" bodyClass="'d-flex flex-column'"
                size="'lg'">
            <main class="body">
                <div class="section-product-info-title">
                    <div>
                        <table>
                            <thead>
                                <tr>
                                    <th>
                                        <b>Product</b>
                                    </th>
                                    <th>
                                        <b>Quantity</b>
                                    </th>
                                    <th>
                                        <b>Unit</b>
                                    </th>
                                    <th>
                                        <b>Price without tax</b>
                                    </th>
                                    <th style="width: 90px;">
                                        <b>Discount</b>
                                    </th>
                                </tr>
                            </thead>
                            <t t-foreach="props.body" t-as="line"
                               t-key="line.id">
                                <tbody>
                                    <td style="padding: 20px;">
                                        <b>
                                        <t t-esc="line.full_product_name"/>
                                        </b>
                                    </td>
                                    <td style="padding: 10px;">
                                        <input
                                                t-on-input="(ev) => this.updateQty(line, ev.target.value)"
                                                type="number"
                                                name="quantity"
                                                t-att-value="line.qty"
                                        />
                                    </td>
                                    <td>
                                        <b>
                                            <t t-esc="line.product_id.uom_id.name"/>
                                        </b>
                                    </td>
                                    <td style="padding: 10px;">
                                        <input t-model="line.price_unit"
                                               type="number" name="unitPrice"/>
                                    </td>
                                    <td t-if="env.services.pos.config.manual_discount"
                                        style="padding: 10px;">
                                        <input t-model="line.discount"
                                               type="number" name="discount"/>
                                    </td>
                                    <td style="padding: 10px;">
                                        <button class="input-button numpad-backspace"
                                                style="color:red;"
                                                t-on-mousedown.prevent="() => this.sendInput(line.id)">
                                            <i class="fa fa-trash"/>
                                         </button>
                                    </td>
                                </tbody>
                            </t>
                        </table>
                    </div>
                </div>
            </main>
            <t t-set-slot="footer">
                <button class="btn" t-att-class="props.confirmClass"
                        t-on-click="_confirm" t-esc="props.confirmLabel"/>
                <button class="btn btn-secondary" t-on-click="_cancel"
                        t-esc="props.cancelLabel"/>
            </t>
        </Dialog>
    </t>
</templates>
